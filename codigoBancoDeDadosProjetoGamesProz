CREATE TABLE Loja_Jogos (
 id_loja SERIAL PRIMARY KEY, 
 telefone_loja VARCHAR(30) NOT NULL,  
 nome_loja VARCHAR(25) NOT NULL,  
 email_loja VARCHAR(25) NOT NULL,  
 qnt_usuarios INT,
 idEndereco INT NOT NULL
); 

CREATE TABLE Usuario (
 id_usuario SERIAL PRIMARY KEY,
 nome_usuario VARCHAR(50) NOT NULL,
 telefone_usuario VARCHAR(30) NOT NULL,
 email_usuario VARCHAR(25) NOT NULL,  
 avaliacao_usuario FLOAT,
 comentario_usuario VARCHAR(150),  
 idLoja INT NOT NULL
); 

CREATE TABLE Endereco ( 
 id_endereco SERIAL PRIMARY KEY,
 logradouro VARCHAR(50) NOT NULL,
 cidade VARCHAR(25) NOT NULL,
 estado VARCHAR(25) NOT NULL,  
 CEP INT NOT NULL,  
 idUsuario INT
);

CREATE TABLE Jogos (
 id_jogos SERIAL PRIMARY KEY,  
 disponivel_jogo BOOLEAN NOT NULL,  
 nome_jogo VARCHAR(50) NOT NULL,  
 preco_jogo FLOAT,  
 media_avaliacao_jogos FLOAT,  
 qnt_jogos INT,  
 qnt_comentarios INT,
 compraUsuario INT 
);


ALTER TABLE Loja_Jogos ADD FOREIGN KEY(idEndereco) REFERENCES Endereco (id_endereco);
ALTER TABLE Usuario ADD FOREIGN KEY(idLoja) REFERENCES Loja_Jogos (id_loja);
ALTER TABLE Endereco ADD FOREIGN KEY(idUsuario) REFERENCES Usuario (id_usuario);
ALTER TABLE Jogos ADD FOREIGN KEY(compraUsuario) REFERENCES Usuario (id_usuario);


INSERT into Endereco (logradouro, cidade, estado, CEP) VALUES
('Rua da Lua', 'São Paulo', 'São Paulo', 123456780);

INSERT into Loja_Jogos (telefone_loja, nome_loja, email_loja, idEndereco) VALUES
('(85)12345-6789', 'Forever Games', 'forevergames@gmail.com', 1);
INSERT into Loja_Jogos (telefone_loja, nome_loja, email_loja, qnt_usuarios, idEndereco) VALUES
('(85)12345-6789', 'Forever Games', 'forevergames@gmail.com', 1000, 1);

INSERT INTO Usuario (nome_usuario, telefone_usuario, email_usuario, idLoja) VALUES
('Victor Cardoso', '(85)02345-6789', 'victorcardoso@gmail.com', 1);
INSERT INTO Usuario (nome_usuario, telefone_usuario, email_usuario, avaliacao_usuario, comentario_usuario, idLoja) VALUES
('Victor Cardoso', '(85)02345-6789', 'victorcardoso@gmail.com', 5, 'Que jogo incrível, recomendo!!!', 1);

INSERT into Endereco (logradouro, cidade, estado, CEP, idUsuario) VALUES
('Rua do Sol', 'Fortaleza', 'Ceará', 123456780, 1);

INSERT INTO Jogos (disponivel_jogo, nome_jogo, compraUsuario) VALUES
(FALSE, 'Assassins Creed Mirage', 1);
INSERT INTO Jogos (disponivel_jogo, nome_jogo,  preco_jogo, media_avaliacao_jogos, qnt_jogos, qnt_comentarios, compraUsuario) VALUES
(TRUE, 'Starfield', 350.00, 5, 20, 3, 1);

SELECT * FROM Loja_Jogos;
SELECT * FROM Usuario;
SELECT * FROM Endereco;
SELECT * FROM Jogos;

//Consultas pelo site relaX:
σ disponivel_jogo = 't' (Jogos)
π nome_usuario, telefone_usuario, email_usuario (Usuario)
π nome_jogo, preco_jogo, media_avaliacao (σ preco > 200 (Jogos))
